<!DOCTYPE html>
<html lang="en">
<head>
	<title>Methane Molecule</title>
	<meta charset="utf-8">

	<link rel="stylesheet" href="css/style.css">
	<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
	<script src="js/methane.js"></script>>
	<script src="js/three.js"></script>
	<script src="js/OrbitControls.js"></script>
	
</head>


<body>
	<link rel="stylesheet" href="css/style.css">
	<div id="container" style="background-color: #ffffff">
		
		<div id="top-bar"><!--top bar starts-->
			<table>
				<tr>
						<td><img src="images/iiith-logo.png" height="90px"/></td>
				</tr>
			</table>
		</div><!--top bar ends-->
		
		
		<div id="header"><!--header starts-->
			<ul id="list-nav" style="padding-left: 50px">
				<li><a href="../../" style="border-top-left-radius:0.8em;border-bottom-left-radius:0.8em; ">HOME</a></li>
				<li><a href="water.html">WATER</a></li>
				<li><a href="ammonia.html">AMMONIA</a></li>
				<li><a href="formaldehyde.html">FORMALDEHYDE</a></li>
				<li><a href="methane.html">METHANE</a></li>
				<li><a href="benzene.html">BENZENE</a></li>
				<li><a href="c-60.html">C-60</a></li>				

				<!--
				<li id="blank">LOGIN</li>
				<li><a href="#">Student</a></li>-->
				<li><a href="#" style="border-top-right-radius:0.8em;border-bottom-right-radius:0.8em;padding-left:00px ">EXP 4</a></li>
				
			</ul>
		</div><!--header ends-->

		
		<div id="simulator-stuff">
			<table>
				<tr align="center">
					<td >
						<img src="images/methane.png" height=350px width=350px/>	
						<p style="font-size: 15px">Follow the convertion of the atom ordering</p>
					</td>
					<td>
						<br><br><br>      <article id="simulator"></article>
					</td>
					<td align="justify" style="padding-left:100px">
						<form name="control_options" id="control_options">
							<input type="radio" class="spacefill" name="spacefill" value="90 55" checked>spacefill 20%<br>
							<input type="radio" class="spacefill" name="spacefill" value="110 70">spacefill 25%<br>
							<input type="radio" class="spacefill" name="spacefill" value="130 90">spacefill 50%<br>
							<input type="radio" class="spacefill" name="spacefill" value="160 110">spacefill 75%<br>
							<br><br>

							<input type="radio" class="wireframe" name="wireframe" value="0">wireframe off<br>
							<input type="radio" class="wireframe" name="wireframe" value="5">wireframe on <br>
							<input type="radio" class="wireframe" name="wireframe" value="12" checked="">wireframe 0.1<br>
							<input type="radio" class="wireframe" name="wireframe" value="30">wireframe 0.3<br>
							<br><br>

							<input type="checkbox" id="spin" value="spin" >spin
						</form>
					</td>
				</tr>

				<tr>
				<td colspan="2" align="center">
					<br><br><br>
						<p style="font-size: 24px;color: #000000;font-weight: 700;padding-left: 350px">Z-matrix calculation</p>		
					</td>
				</tr>
			</table>

			<div id="calculation" >

			</div>	

				
				<p style="font-size: 15px;padding-left: 350px">Choose atoms According to numbering provided in figure</p>	
				<p id="result"> </p>
		</div>

		

	<!--footer starts (manual)-->
		<div style="position:absolute;bottom: 10px">
		<img src="images/ma-hrline.jpg" style="padding-left:15px;width:1220px;height:4px;"/>
		<table >
			<tr>
				<td id="recent" >
						<span style="padding-left:10px;">Manual</span>
						<div style="padding-left:20px;font-size:13px;color:#878787;">
							<br/>
						    a) Select a molecule from above by clicking on it.<br/>
						    b) Fill the atom connectivity to generate the z-matrix for the selected molecule. <br/>
						    c) The next slide shows the method and  basis set for the optimization.<br/>
						    d) The slide that follows shows the GAMESS input file for the selected molecule.<br/>
				   		    e) Upon running GAMESS, the output file for the geometry optimization is displayed.<br/>
						    f) The last slide shows how the structure varies as a function of energy.<br/>	
						</div>			
				</td>
				<td><img src="images/vert.jpeg" style="width:4px;height:170px;align:top"/></td>
				<td style="padding-left:20px"><img width="90px" height="100px" src="images/molecule.gif"/></td>
				<td style="padding-left:20px;font-size:13px;font-style: italic;" width="320px">
					Different kinds of calculations require different kinds of input. But some items are to be specified in all the cases. The two most popular computer programs for carrying out ab initio quantum chemical calculations is the "Gaussian" and "Gamess" series. 
					<br/><br/>
					<a href="../index.html" target="_blank" style="font-size:14px;color:#FFCC00;text-decoration:none;float:right">Read More&gt;&gt;</a>
				</td>
			</tr>
			</table>
		<img src="images/ma-hrline.jpg" style="padding-left:15px;width:1220px;height:4px;"/>
		<img src="images/ma-footer.jpg" style="padding-left:15px;width:1220px;height:35px;"/>
		
		</div>		<!--footer ends -->
	
	</div>

	<script type="text/javascript">
		
	// Camera, Scene, Renderer

		var camera = new THREE.PerspectiveCamera(35, (window.innerWidth/4) / (window.innerHeight/2), 0.1, 3000);
		var scene = new THREE.Scene();
		
		var renderer = new THREE.WebGLRenderer();
		renderer.setPixelRatio(window.devicePixelRatio);
		renderer.setSize(window.innerWidth/4, window.innerHeight/2);
		document.getElementById('simulator').appendChild(renderer.domElement);

		//var controls = new THREE.OrbitControls(camera, renderer.domElement);

		
	//initial dimensions
		var C_radius = 90;
		var H_radius = 55;
		var bond_radius = 10;
		molecule(C_radius, H_radius, bond_radius);

	//update the controls
		document.control_options.onclick =  function (){
		    var sp = document.control_options.spacefill.value.split(" ");
		    var wr = document.control_options.wireframe.value; 
		    scene.remove.apply(scene, scene.children);  
			molecule(sp[0],sp[1],wr);			
		}

	//Creating molecule
		function molecule(C_radius,H_radius,bond_radius){
			
		//light on the screen
			var light = new THREE.AmbientLight(0xffffff, 0.5);
			scene.add(light);
			var light1 = new THREE.PointLight(0xffffff, 0.5);
			scene.add(light1);

		//Creating atoms
			var carbon_Geo = new THREE.SphereGeometry( C_radius, 50, 200 ); //Geometry
			var hydrogen_Geo = new THREE.SphereGeometry( H_radius, 50, 200 );

			var hydrogen_material = new THREE.MeshPhongMaterial({color: '#C0C0C0'}); //Material
			var carbon_material = new THREE.MeshPhongMaterial({color: 'yellow'}); 

			var hydrogen_mesh= new THREE.Mesh(hydrogen_Geo, ); //Mesh
			var carbon_mesh = new THREE.Mesh(carbon_Geo, );

		//Adjusting the position (matrix)
			carbon_mesh.updateMatrix();
			hydrogen_mesh.position.y=225;
			hydrogen_mesh.updateMatrix();

		//Creating Bonds
			var bond_Geo = new THREE.CylinderGeometry( bond_radius, bond_radius, 250, 32);
			var bond_mesh = new THREE.Mesh(bond_Geo, );
			bond_mesh.position.y=100;
			bond_mesh.updateMatrix();

		//Merging bond and Hydrogen atoms
			var temp1 = new THREE.Geometry();
			temp1.merge(hydrogen_mesh.geometry, hydrogen_mesh.matrix);
			temp1.merge(bond_mesh.geometry, bond_mesh.matrix);
			
			//H1+bond
			var temp_mesh1 = new THREE.Mesh(temp1, );
			temp_mesh1.applyMatrix( new THREE.Matrix4().makeRotationZ( Math.PI / 1.3) );
			temp_mesh1.applyMatrix( new THREE.Matrix4().makeRotationY( -Math.PI / 1 ) );
			temp_mesh1.applyMatrix( new THREE.Matrix4().makeRotationX( Math.PI / 3.5 ) );

			//H2+bond
			var temp_mesh2 = new THREE.Mesh(temp1, );
			
			var temp_mesh3 = new THREE.Mesh(temp1, );
			temp_mesh3.applyMatrix( new THREE.Matrix4().makeRotationZ( Math.PI/ 1.3 ) );
			temp_mesh3.applyMatrix( new THREE.Matrix4().makeRotationY( Math.PI / 2 ) );
			temp_mesh3.applyMatrix( new THREE.Matrix4().makeRotationX( -Math.PI / 12) );

			var temp_mesh4 = new THREE.Mesh(temp1, );
			temp_mesh2.applyMatrix( new THREE.Matrix4().makeRotationZ( -Math.PI / 1.3 ) );
			temp_mesh2.applyMatrix( new THREE.Matrix4().makeRotationY( Math.PI / 1 ) );
			temp_mesh2.applyMatrix( new THREE.Matrix4().makeRotationX( Math.PI / 3.5 ) );
 

        //Merging the atoms 
			var geo=new THREE.Geometry();

			if(calc==0 || calc==5){
				
				//whole molecule
				geo.merge(temp_mesh2.geometry,temp_mesh2.matrix,0);
				geo.merge(temp_mesh1.geometry,temp_mesh1.matrix,0);
				geo.merge(temp_mesh3.geometry,temp_mesh3.matrix,0);
				geo.merge(temp_mesh4.geometry,temp_mesh4.matrix,0);
				geo.merge(carbon_mesh.geometry,carbon_mesh.matrix,1);

				var mesh = new THREE.Mesh(geo, new THREE.MeshFaceMaterial([hydrogen_material,carbon_material]));
			}

			else if(calc==1){
				// C atom
				geo.merge(carbon_mesh.geometry,carbon_mesh.matrix);
				var mesh = new THREE.Mesh(geo,carbon_material);

			}

			else if(calc==2){
				// C atom and 1 H atom
				geo.merge(temp_mesh1.geometry,temp_mesh1.matrix,0);
				geo.merge(carbon_mesh.geometry,carbon_mesh.matrix,1);
				var mesh = new THREE.Mesh(geo, new THREE.MeshFaceMaterial([hydrogen_material,carbon_material]));
			}

			else if(calc==3){
				// C atom and 2 H atoms
				geo.merge(temp_mesh2.geometry,temp_mesh2.matrix,0);
				geo.merge(temp_mesh1.geometry,temp_mesh1.matrix,0);
				geo.merge(carbon_mesh.geometry,carbon_mesh.matrix,1);
				var mesh = new THREE.Mesh(geo, new THREE.MeshFaceMaterial([hydrogen_material,carbon_material]));
			}

			else if(calc==4){
				// C atom and 3 H atoms
				geo.merge(temp_mesh3.geometry,temp_mesh3.matrix,0);
				geo.merge(temp_mesh2.geometry,temp_mesh2.matrix,0);
				geo.merge(temp_mesh1.geometry,temp_mesh1.matrix,0);
				geo.merge(carbon_mesh.geometry,carbon_mesh.matrix,1);
				var mesh = new THREE.Mesh(geo, new THREE.MeshFaceMaterial([hydrogen_material,carbon_material]));
			}

			scene.add(mesh);
			mesh.position.set(0,50,-1200);

			
		//Animate
			var animate= function() {
			    requestAnimationFrame( animate );
			  	renderer.render( scene, camera );

				render();
			}

			function render(){
				if(document.getElementById('spin').checked==true){			
					mesh.rotation.y+=0.03;
				}
					
			}
			
			animate();
		}

		// Event Listener (on screen resize)
	  	window.addEventListener( 'resize', onWindowResize, false );

		// Resize
		function onWindowResize() {
			camera.aspect = window.innerWidth / window.innerHeight;
			camera.updateProjectionMatrix();
			renderer.setSize( window.innerWidth/4, window.innerHeight/2 );
		}

	</script>

</body>
</html>